import{_ as o,C as l,c as d,o as p,j as s,aA as n,a as e,G as t}from"./chunks/framework.DjAFQCuz.js";const S=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"pages/code/api/Sindbad.md","filePath":"pages/code/api/Sindbad.md","lastUpdated":null}'),r={name:"pages/code/api/Sindbad.md"},c={class:"jldocstring custom-block",open:""},h={class:"jldocstring custom-block",open:""};function g(k,i,u,E,m,b){const a=l("Badge");return p(),d("div",null,[s("details",c,[s("summary",null,[i[0]||(i[0]=s("a",{id:"Sindbad",href:"#Sindbad"},[s("span",{class:"jlbinding"},"Sindbad")],-1)),i[1]||(i[1]=e()),t(a,{type:"info",class:"jlObjectType jlModule",text:"Module"})]),i[2]||(i[2]=n(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Sindbad</span></span></code></pre></div><p>Top-level orchestration package for <strong>S</strong>trategies to <strong>IN</strong>tegrate <strong>D</strong>ata and <strong>B</strong>iogeochemic<strong>A</strong>l mo<strong>D</strong>els. <code>Sindbad</code> reexports the complete <code>SindbadTEM</code> modeling stack and combines the user-facing modules under <code>src/</code> to offer a single public entry point for data ingest, configuration, simulation, optimization, machine learning, and visualization workflows.</p><p><strong>Purpose:</strong></p><ul><li><p>Provide a cohesive API that ties together process-level models from <code>SindbadTEM</code> with higher-level experiment tooling.</p></li><li><p>Ensure every stage of a SINDBAD pipeline—data handling, setup, model execution, calibration, post-processing, and plotting—is available through one package.</p></li></ul><p><strong>Dependencies:</strong></p><p><strong>Related (SINDBAD ecosystem)</strong></p><ul><li><p><code>ErrorMetrics</code>: Model–observation metrics used across cost/diagnostics.</p></li><li><p><code>TimeSamplers</code>: Temporal sampling/aggregation helpers.</p></li><li><p><code>OmniTools</code>: Shared utilities used across modules.</p></li></ul><p><strong>External (third-party)</strong></p><ul><li><p><code>CSV</code>: Input/output of tabular forcing and calibration datasets.</p></li><li><p><code>ConstructionBase</code>: Shared constructors needed by downstream modules.</p></li><li><p><code>JSON</code>: Experiment metadata serialization (<code>parsefile</code>, <code>json</code>, <code>print</code>).</p></li><li><p><code>JLD2</code>: Persisting SINDBAD state, diagnostics, and trained artifacts.</p></li><li><p><code>YAXArrays</code> + <code>YAXArrays.Datasets</code>: Labeled n-dimensional arrays and dataset writers for model output.</p></li></ul><p><strong>Internal (within <code>Sindbad</code>)</strong></p><ul><li><p><code>Sindbad.DataLoaders</code></p></li><li><p><code>Sindbad.Experiment</code></p></li><li><p><code>Sindbad.MachineLearning</code></p></li><li><p><code>Sindbad.ParameterOptimization</code></p></li><li><p><code>Sindbad.Setup</code></p></li><li><p><code>Sindbad.Simulation</code></p></li><li><p><code>Sindbad.Types</code></p></li><li><p><code>Sindbad.Visualization</code></p></li><li><p><code>SindbadTEM</code></p></li></ul><p><strong>Included Modules:</strong></p><ul><li><p><strong>DataLoaders</strong> (<code>src/DataLoaders/</code>):</p><ul><li>Handles file IO, preprocessing, and conversion into SINDBAD-native data structures; exposes reusable loaders and utility helpers.</li></ul></li><li><p><strong>Setup</strong> (<code>src/Setup/</code>):</p><ul><li>Builds experiment <code>info</code> objects, validates model selections, and wires pools, spinup settings, and derived configuration metadata.</li></ul></li><li><p><strong>Simulation</strong> (<code>src/Simulation/</code>):</p><ul><li>Orchestrates terrestrial ecosystem simulations, including spinup, forward runs, diagnostics, and interaction with <code>SindbadTEM</code>.</li></ul></li><li><p><strong>ParameterOptimization</strong> (<code>src/ParameterOptimization/</code>):</p><ul><li><p>Provides parameter-calibration utilities and objective hooks.</p></li><li><p>Some optimizer backends are enabled via optional extensions (see Notes).</p></li></ul></li><li><p><strong>MachineLearning</strong> (<code>src/MachineLearning/</code>):</p><ul><li>Adds ML-assisted surrogates, emulators, and training pipelines that integrate with Sindbad outputs and optimization targets.</li></ul></li><li><p><strong>Visualization</strong> (<code>src/Visualization/</code>):</p><ul><li>Supplies plotting and reporting helpers for experiment evaluation (time series, spatial maps, diagnostic overlays, etc.).</li></ul></li><li><p><strong>Experiment</strong> (<code>src/Experiment/</code>):</p><ul><li>High-level experiment runner and output persistence helpers that tie together setup, loaders, simulation, optimization, ML, and visualization.</li></ul></li></ul><p><strong>Notes:</strong></p><ul><li><p>Each submodule is included and reexported so end users can call <code>using Sindbad</code> and immediately access <code>Sindbad.DataLoaders</code>, <code>Sindbad.Simulation</code>, and the rest without extra imports.</p></li><li><p>Shared dependencies are loaded here to guarantee consistent versions across all components.</p></li><li><p>Some functionality is enabled via Julia extensions (<code>Project.toml</code> <code>[weakdeps]</code> + <code>[extensions]</code> and <code>ext/</code>):</p><ul><li><p><code>NLsolve</code> → <code>SindbadNLsolveExt</code></p></li><li><p><code>Optimization</code> → <code>SindbadOptimizationExt</code></p></li><li><p><code>CMAEvolutionStrategy</code> → <code>SindbadCMAEvolutionStrategyExt</code></p></li></ul></li></ul><p><strong>Examples:</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Sindbad</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Prepare an experiment from a configuration file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # info, forcing = prepExperiment(&quot;path/to/experiment_config.json&quot;)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Run a forward simulation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # out = runExperimentForward(&quot;path/to/experiment_config.json&quot;)</span></span></code></pre></div>`,17))]),i[7]||(i[7]=s("h2",{id:"Functions",tabindex:"-1"},[e("Functions "),s("a",{class:"header-anchor",href:"#Functions","aria-label":'Permalink to "Functions {#Functions}"'},"​")],-1)),i[8]||(i[8]=s("h3",{id:"addExtensionToSindbad",tabindex:"-1"},[e("addExtensionToSindbad "),s("a",{class:"header-anchor",href:"#addExtensionToSindbad","aria-label":'Permalink to "addExtensionToSindbad {#addExtensionToSindbad}"'},"​")],-1)),s("details",h,[s("summary",null,[i[3]||(i[3]=s("a",{id:"Sindbad.addExtensionToSindbad",href:"#Sindbad.addExtensionToSindbad"},[s("span",{class:"jlbinding"},"Sindbad.addExtensionToSindbad")],-1)),i[4]||(i[4]=e()),t(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[5]||(i[5]=s("p",null,"addExtensionToSindbad(function_to_extend::Function, external_package::String) -> String",-1)),i[6]||(i[6]=s("p",null,[e("Convenience wrapper for this repo: asserts the function belongs to "),s("code",null,"Sindbad"),e(" and always uses folder layout.")],-1))]),i[9]||(i[9]=n(`<details class="details custom-block"><summary>Code</summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> addExtensionToSindbad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(function_to_extend</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, external_package</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    root_pkg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Base</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">moduleroot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parentmodule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(function_to_extend))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    nameof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(root_pkg) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :Sindbad</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Expected a Sindbad function; got root package </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$(root_pkg)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> add_extension_to_function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(function_to_extend, external_package; extension_location</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:Folder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  end</span></span></code></pre></div></details><hr>`,2))])}const x=o(r,[["render",g]]);export{S as __pageData,x as default};
